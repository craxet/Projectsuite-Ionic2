<ion-header>
    <ion-toolbar>
        <ion-buttons start>
            <button (click)="openMoreModal()">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>Summary</ion-title>
    </ion-toolbar>
    <calendar-view (onListUpdate)="callGetSummaryEntries($event)"></calendar-view>
</ion-header>

<ion-content>
    <ion-refresher (ionRefresh)="getSummaryEntries($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <div text-center class="center-vertically-in-list" [hidden]="!areSummaryEntriesLoading">
        <ion-spinner></ion-spinner>
    </div>
    <div text-center class="center-vertically-in-list"
         [hidden]="areSummaryEntriesLoading || summaryEntries.length !== 0">
        <span class="no-items-found">No Summary Entries found</span>
    </div>
    <ion-list [hidden]="areSummaryEntriesLoading ||  summaryEntries.length === 0">
        <ion-item-group *ngFor="let headerDate of summaryEntries | orderBy: ['-date']">
            <ion-item-divider>
                {{headerDate.date | amDateFormat:"DD.MM.YYYY"}}
                <div item-right style="padding-right:8px;">
                    <strong>{{headerDate.sumOfDuration | duration}}</strong>
                </div>
            </ion-item-divider>
            <button ion-item detail-none (click)="gotToSummaryEntryDetail(step)" *ngFor="let step of headerDate.values"
                    [attr.booked]="step.booked">
                <p><strong>Task</strong></p>
                <p>{{step.taskName}}</p>
                <p><strong>Project</strong></p>
                <p>{{step.projectName}}</p>
                <p><strong>Activity</strong></p>
                <p>{{step.activity}}</p>
                <div item-right>
                    <h4>{{step.duration | duration}}</h4>
                </div>
            </button>
        </ion-item-group>
    </ion-list>
</ion-content>`